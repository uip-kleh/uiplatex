\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{uiplatex_slide}
\usetheme{metropolis}
\metroset{
    numbering=fraction,
    progressbar=foot,
}
\useinnertheme{circles}

\setbeamercolor{background canvas}{bg=white}

% font
\RequirePackage{amsmath,amssymb,amsthm}
\RequirePackage{mathtools}
\RequirePackage{bm}
\RequirePackage[match,no-math]{luatexja-fontspec}
\RequirePackage[deluxe]{luatexja-preset}
\setmainfont{LatinModernRoman}[%
    OpticalSize=0,%
    SmallCapsFont=LMRomanCaps10-Regular,%
    FontFace={sb}{n}{LMRomanDemi10-Regular},%
]
\setsansfont{OpenSans}[%
    Scale=0.96,%
    FontFace={l}{n}{OpenSans-Light},%
    FontFace={l}{it}{OpenSans-LightItalic},%
    FontFace={sb}{n}{OpenSans-SemiBold},%
    FontFace={sb}{it}{OpenSans-SemiBoldItalic},%
    FontFace={eb}{n}{OpenSans-ExtraBold},%
    FontFace={eb}{it}{OpenSans-ExtraBoldItalic}%
]
\setmonofont{Inconsolatazi4}
\setmainjfont{HaranoAjiGothic}[%
    FontFace={l}{n}{HaranoAjiGothic-Light},%
    FontFace={sb}{n}{HaranoAjiGothic-Medium},%
    FontFace={eb}{n}{HaranoAjiGothic-Heavy}%
]
\setsansjfont{HaranoAjiGothic}[%
    FontFace={l}{n}{HaranoAjiGothic-Light},%
    FontFace={sb}{n}{HaranoAjiGothic-Medium},%
    FontFace={eb}{n}{HaranoAjiGothic-Heavy}%
]
\DeclareRobustCommand\sbseries{\fontseries{sb}\selectfont}
\DeclareTextFontCommand{\textsb}{\sbseries}
\RenewDocumentCommand{\emph}{m}{\textsf{\textgt{\textbf{#1}}}}

% colorbox

\RequirePackage{varwidth}
\NewTColorBox{point}{m}{
    enhanced, colframe=uipmaincolor, colback=uipmaincolor!5!white,
    fonttitle=\bfseries, title={#1},
}

\newcommand{\myitem}{\item[\textcolor{uipmaincolor}{â– }]}
\newcommand\mynum[1]{%
  \usebeamercolor{enumerate item}%
  \tikzset{beameritem/.style={circle,inner sep=0,minimum size=2ex,text=enumerate item.bg,fill=enumerate item.fg,font=\footnotesize}}%
  \tikz[baseline=(n.base)]\node(n)[beameritem]{#1};%
}

\newenvironment{myitemize}{%
\begin{itemize}}{\end{itemize}}
\tcolorboxenvironment{myitemize}{blanker,
before skip=6pt,after skip=6pt,
borderline west={3mm}{0pt}{uipmaincolor}}

\newtcolorbox{examplebox}[2][]{enhanced,
before skip=2mm,after skip=2mm,
colback=black!5,colframe=black!50,boxrule=0.2mm,
attach boxed title to top left={xshift=1cm,yshift*=1mm-\tcboxedtitleheight},
varwidth boxed title*=-3cm,
boxed title style={frame code={
\path[fill=tcbcolback!30!black]
([yshift=-1mm,xshift=-1mm]frame.north west)
arc[start angle=0,end angle=180,radius=1mm]
([yshift=-1mm,xshift=1mm]frame.north east)
arc[start angle=180,end angle=0,radius=1mm];
\path[left color=tcbcolback!60!black,right color=tcbcolback!60!black,
middle color=tcbcolback!80!black]
([xshift=-2mm]frame.north west) -- ([xshift=2mm]frame.north east)
[rounded corners=1mm]-- ([xshift=1mm,yshift=-1mm]frame.north east)
-- (frame.south east) -- (frame.south west)
-- ([xshift=-1mm,yshift=-1mm]frame.north west)
[sharp corners]-- cycle;
},interior engine=empty,
},
fonttitle=\bfseries,
title={#2},#1}